(function(f){f(["composed"],function(f){var d,h,y=function(a){return a},j=function(a){return y.bind(this,a)},r=function(){},z=j(r),k=function(a){var b;return d(function(c,e,i){b?e():(b=!0,a(c,e,i))})},l=function(a,b,c){return d(function(e,i){var g,d=a.sync(b,function(){g=!0;return r})();g?(c&&c(),i()):e(d)})},m=function(a,b,c){return k(function(e,i,g){var d=0;g(a,function(a){b.call(c,a,d++)})(void 0,e)})},n=function(a,b,c){return k(function(e,d,g){var f=c;g(m(a,function(a,c){f=b(f,a,c)}))(function(){e(f)})})},
s=function(a,b,c){return l(a,function(a){return function(){return b.call(c,a)}})},t=function(a,b,c){return l(a,function(a){return b.call(c,a)?j(a):void 0})},p,A=function(a,b){a.push(b);return a};p=function(a){return n(a,A,[])};var q,u=function(a,b){return!b?a:function(){var c;try{c=a.apply(void 0,arguments)}finally{return b.apply(void 0,arguments),c}}};q=function(a,b,c,e){c=c||j;e=e||z;return function(d,g){return a(b,u(c,d),u(e,g))}};h=function(){};h.prototype=Error();h.prototype.name="GenBreak";
var v=q.bind(void 0,function(a,b,c){var e,d=function(){e=b.apply(void 0,arguments)},g=function(){e=c()},f=function(){return e=v.apply(void 0,arguments)};do a.source(d,g,f);while(void 0===e);return e()}),w=q.bind(void 0,function(a,b,c){var e,d=function(a){if(void 0===a)setTimeout(e,0);else return a};setTimeout(e=a.source.bind(void 0,f.compose(d,b),f.compose(d,c),f.compose(d,w)),0)}),x={map:function(a,b){return s(this,a,b)},filter:function(a,b){return t(this,a,b)},reduce:function(a,b){return n(this,
a,b)},toArray:function(){return p(this)},forEach:function(a,b){return m(this,a,b)},sync:function(a,b){return v(this,a,b)},async:function(a,b){return w(this,a,b)}};d=function(a){return Object.create(x,{source:{value:a}})};return Object.defineProperties(d,{prototype:{value:x,writable:!0},CONTINUE:{value:void 0},GenBreak:{value:h},single:{value:k},wrap:{value:function(a,b,c){return l(d(a),b,c)}},map:{value:function(a,b,c){return s(d(a),b,c)}},filter:{value:function(a,b,c){return t(d(a),b,c)}},reduce:{value:function(a,
b,c){return n(d(a),b,c)}},toArray:{value:function(a){return p(d(a))}},forEach:{value:function(a,b,c){return m(d(a),b,c)}}})})})("undefined"!==typeof define?define:function(f){gen=f()});