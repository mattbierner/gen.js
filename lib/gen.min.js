(function(f){f(function(){var d,g,f=function(a){return a},h=function(a){return f.bind(this,a)},q=function(){},i=h(q),j=function(a){var b;return d(function(c,e){if(b)return e();b=!0;return c(a())})},k=function(a,b,c){return d(function(e,d){var r,f=a.sync(b,function(){r=!0;return q})();return r?(c&&c(),d()):e(f)})},l=function(a,b,c){var e=0;return j(a.sync(function(a){b.call(c,a,e++)},i))},m=function(a,b,c){return j(function(){var e=c;l(a,function(a,c){e=b(e,a,c)}).sync(i,i)();return e})},s=function(a,
b,c){return k(a,function(a){return function(){return b.call(c,a)}})},t=function(a,b,c){return k(a,function(a){if(b.call(c,a))return h(a)})},n,x=function(a,b){a.push(b);return a};n=function(a){return m(a,x,[])};var p,y=h(function(){throw new g;}),u=function(a,b){return!b?a:function(){var c;try{c=a.apply(void 0,arguments)}finally{return b.apply(void 0,arguments),c}}};p=function(a,b,c,e){c=c||h;e=e||y;return function(d,f){return a(b,u(c,d),u(e,f))}};g=function(){};g.prototype=Error();g.prototype.name=
"GenBreak";var z=p.bind(void 0,function(a,b,c){var e;do e=a(b,c);while(void 0===e);return e()}),A=p.bind(void 0,function(a,b,c){setTimeout(function w(){var d=a(b,c);void 0===d?setTimeout(w,0):d()},0)}),v={map:function(a,b){return s(this,a,b)},filter:function(a,b){return t(this,a,b)},reduce:function(a,b){return m(this,a,b)},toArray:function(){return n(this)},forEach:function(a,b){return l(this,a,b)},sync:function(a,b){return z(this.source,a,b)},async:function(a,b){return A(this.source,a,b)}};d=function(a){return Object.create(v,
{source:{value:a}})};return Object.defineProperties(d,{prototype:{value:v,writable:!0},GenBreak:{value:g},single:{value:j},wrap:{value:function(a,b,c){return k(d(a),b,c)}},map:{value:function(a,b,c){return s(d(a),b,c)}},filter:{value:function(a,b,c){return t(d(a),b,c)}},reduce:{value:function(a,b,c){return m(d(a),b,c)}},toArray:{value:function(a){return n(d(a))}},forEach:{value:function(a,b,c){return l(d(a),b,c)}}})})})("undefined"!==typeof define?define:function(f){gen=f()});