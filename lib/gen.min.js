(function(f){f(function(){var d,g,f=function(a){return a},h=function(a){return f.bind(this,a)},n=function(){},i=h(n),j=function(a){var b;return d(function(c,e){if(b)return e();b=!0;return c(a())})},k=function(a,b,c){return d(function(e,d){var p,f=a.sync(b,function(){p=!0;return n})();return p?(c&&c(),d()):e(f)})},q=function(a,b,c){var e=0;return j(a.sync(function(a){b.call(c,a,e++)},i))},r=function(a,b,c){return j(function(){var e=c;a.forEach(function(a,c){e=b(e,a,c)}).sync(i,i)();return e})},s=function(a,
b,c){return k(a,function(a){return function(){return b.call(c,a)}})},t=function(a,b,c){return k(a,function(a){if(b.call(c,a))return h(a)})},l,x=function(a,b){a.push(b);return a};l=function(a){return a.reduce(x,[])};var y=h(function(){throw new g;}),m,u=function(a,b){return function(){var c;try{c=a.apply(void 0,arguments)}finally{return b&&b.apply(void 0,arguments),c}}};m=function(a,b,c,e){c=c||h;e=e||y;return function(d,f){return a(b,u(c,d),u(e,f))}};var z=m.bind(void 0,function(a,b,c){var e;do e=
a(b,c);while(void 0===e);return e()}),A=m.bind(void 0,function(a,b,c){setTimeout(function w(){var d=a(b,c);void 0===d?setTimeout(w,0):d()},0)});g=function(){};g.prototype=Error();g.prototype.name="GenBreak";var v={map:function(a,b){return s(this,a,b)},filter:function(a,b){return t(this,a,b)},reduce:function(a,b){return r(this,a,b)},toArray:function(){return l(this)},forEach:function(a,b){return q(this,a,b)},sync:function(a,b){return z(this.source,a,b)},async:function(a,b){return A(this.source,a,b)}};
d=function(a){return Object.create(v,{source:{value:a}})};return Object.defineProperties(d,{prototype:{value:v,writable:!0},GenBreak:{value:g},single:{value:j},wrap:{value:function(a,b,c){return k(d(a),b,c)}},map:{value:function(a,b,c){return s(d(a),b,c)}},filter:{value:function(a,b,c){return t(d(a),b,c)}},reduce:{value:function(a,b,c){return r(d(a),b,c)}},toArray:{value:function(a){return l(d(a))}},forEach:{value:function(a,b,c){return q(d(a),b,c)}}})})})("undefined"!==typeof define?define:function(f){gen=
f()});